# 赛博机甲 SebeJJ - Week 3-5 开发任务清单

**文档版本**: 1.0  
**创建日期**: 2026-02-27  
**适用阶段**: MVP后期 → Alpha早期  
**总预计工时**: 约320小时

---

## 📋 目录

1. [Week 3: 敌人/战斗系统设计](#week-3-敌人战斗系统设计)
2. [美术资源补充计划](#美术资源补充计划)
3. [现有系统完善](#现有系统完善)
4. [跨周依赖关系图](#跨周依赖关系图)
5. [风险与应对](#风险与应对)

---

## Week 3: 敌人/战斗系统设计

### 3.1 敌人类型设计 (预计工时: 40h)

#### 3.1.1 机械鱼 (MechFish) - P0
| 属性 | 数值 |
|------|------|
| 生命值 | 30-50 |
| 攻击力 | 5-8/次 |
| 移动速度 | 2.5-3.0 |
| 出现深度 | 20-60米 |
| 攻击方式 | 冲撞 |

**任务分解:**

| 任务ID | 任务描述 | 优先级 | 预计工时 | 依赖 | 验收标准 |
|--------|----------|--------|----------|------|----------|
| E1-001 | 机械鱼基础类实现 | P0 | 4h | 无 | EnemyBase继承，属性配置化 |
| E1-002 | 游荡AI行为实现 | P0 | 6h | E1-001 | 随机游动，边界检测，平滑转向 |
| E1-003 | 追击AI行为实现 | P0 | 6h | E1-002 | 侦测范围，追击逻辑，丢失目标 |
| E1-004 | 攻击动画与特效 | P1 | 4h | E1-002 | 冲撞动画，攻击判定框 |
| E1-005 | 受击/死亡逻辑 | P0 | 4h | E1-001 | 伤害计算，死亡动画，掉落物 |
| E1-006 | 美术资源需求提交 | P0 | 2h | 无 | 提供详细美术需求文档 |
| E1-007 | 测试与调优 | P1 | 4h | E1-005 | 3种难度参数配置 |

#### 3.1.2 机械蟹 (MechCrab) - P0
| 属性 | 数值 |
|------|------|
| 生命值 | 80-120 |
| 攻击力 | 12-18/次 |
| 移动速度 | 1.0-1.5 |
| 出现深度 | 40-80米 |
| 攻击方式 | 钳击 + 防御姿态 |

**任务分解:**

| 任务ID | 任务描述 | 优先级 | 预计工时 | 依赖 | 验收标准 |
|--------|----------|--------|----------|------|----------|
| E2-001 | 机械蟹基础类实现 | P0 | 4h | E1-001 | 复用EnemyBase，添加防御属性 |
| E2-002 | 防御姿态系统 | P0 | 6h | E2-001 | 减伤计算，姿态切换动画 |
| E2-003 | 钳击攻击逻辑 | P0 | 6h | E2-001 | 近战判定，连击机制 |
| E2-004 | 巡逻AI行为 | P1 | 4h | E2-001 | 固定区域巡逻，警戒状态 |
| E2-005 | 受击/死亡逻辑 | P0 | 4h | E2-001 | 防御打破机制 |
| E2-006 | 美术资源需求提交 | P0 | 2h | 无 | 提供详细美术需求文档 |
| E2-007 | 测试与调优 | P1 | 4h | E2-005 | 3种难度参数配置 |

#### 3.1.3 机械水母 (MechJellyfish) - P1
| 属性 | 数值 |
|------|------|
| 生命值 | 40-60 |
| 攻击力 | 8-12/次 (范围) |
| 移动速度 | 1.5-2.0 |
| 出现深度 | 60-100米 |
| 攻击方式 | 电击脉冲 (AOE) |

**任务分解:**

| 任务ID | 任务描述 | 优先级 | 预计工时 | 依赖 | 验收标准 |
|--------|----------|--------|----------|------|----------|
| E3-001 | 机械水母基础类实现 | P1 | 4h | E1-001 | 漂浮移动特性 |
| E3-002 | 漂浮AI行为 | P1 | 6h | E3-001 | 上下浮动，缓慢移动 |
| E3-003 | 电击AOE攻击 | P1 | 8h | E3-001 | 范围判定，预警特效 |
| E3-004 | 脉冲充能机制 | P2 | 4h | E3-003 | 充能动画，冷却时间 |
| E3-005 | 美术资源需求提交 | P1 | 2h | 无 | 提供详细美术需求文档 |
| E3-006 | 测试与调优 | P2 | 4h | E3-004 | 2种难度参数配置 |

#### 3.1.4 Boss: 铁钳巨兽 (IronClaw Behemoth) - P1
| 属性 | 数值 |
|------|------|
| 生命值 | 800-1200 |
| 攻击力 | 20-40/次 |
| 移动速度 | 0.8-1.2 |
| 出现深度 | 90米 (Boss区域) |
| 攻击方式 | 多阶段技能 |

**任务分解:**

| 任务ID | 任务描述 | 优先级 | 预计工时 | 依赖 | 验收标准 |
|--------|----------|--------|----------|------|----------|
| B1-001 | Boss基础框架 | P1 | 6h | E2-001 | Boss基类，阶段管理 |
| B1-002 | 第一阶段: 普通攻击 | P1 | 6h | B1-001 | 钳击连击，冲撞 |
| B1-003 | 第二阶段: 狂暴模式 | P1 | 8h | B1-002 | 血量阈值触发，攻击强化 |
| B1-004 | 第三阶段: 终极技能 | P2 | 8h | B1-003 | 全屏攻击，弱点暴露 |
| B1-005 | 场景互动机制 | P2 | 6h | B1-001 | 可破坏场景元素 |
| B1-006 | 胜利/失败流程 | P1 | 4h | B1-004 | 掉落物，传送门 |
| B1-007 | 美术资源需求提交 | P1 | 4h | 无 | 详细需求，参考图 |
| B1-008 | 测试与调优 | P2 | 8h | B1-006 | 难度曲线合理 |

---

### 3.2 AI行为系统 (预计工时: 48h)

#### 3.2.1 AI状态机框架 - P0

| 任务ID | 任务描述 | 优先级 | 预计工时 | 依赖 | 验收标准 |
|--------|----------|--------|----------|------|----------|
| AI-001 | AI状态机基类设计 | P0 | 6h | 无 | 状态切换，事件驱动 |
| AI-002 | 状态基类实现 | P0 | 4h | AI-001 | Enter/Update/Exit |
| AI-003 | 状态转换系统 | P0 | 6h | AI-002 | 条件判断，平滑过渡 |
| AI-004 | AI感知系统 | P0 | 8h | AI-001 | 视觉侦测，听觉侦测 |
| AI-005 | AI内存系统 | P1 | 4h | AI-004 | 记住玩家位置，遗忘时间 |
| AI-006 | 行为树集成(可选) | P2 | 8h | AI-003 | 复杂行为组合 |
| AI-007 | 调试可视化工具 | P1 | 6h | AI-003 | Gizmo显示，状态日志 |
| AI-008 | 性能优化 | P1 | 6h | AI-007 | LOD，更新频率控制 |

**AI状态定义:**

```csharp
public enum EnemyState {
    Idle,           // 待机
    Patrol,         // 巡逻
    Alert,          // 警戒
    Chase,          // 追击
    Attack,         // 攻击
    Flee,           // 逃跑
    Stunned,        // 眩晕
    Dead            // 死亡
}
```

#### 3.2.2 寻路系统 - P0

| 任务ID | 任务描述 | 优先级 | 预计工时 | 依赖 | 验收标准 |
|--------|----------|--------|----------|------|----------|
| PT-001 | A*寻路算法实现 | P0 | 8h | 无 | 2D网格寻路 |
| PT-002 | 动态障碍物支持 | P0 | 6h | PT-001 | 运行时更新网格 |
| PT-003 | 分层寻路支持 | P1 | 6h | PT-001 | 不同深度层 |
| PT-004 | 路径平滑处理 | P1 | 4h | PT-001 | 减少拐点 |
| PT-005 | 避障绕行逻辑 | P1 | 6h | PT-001 | 局部避障 |
| PT-006 | 性能优化 | P1 | 6h | PT-005 | 异步计算，缓存 |

---

### 3.3 战斗机制 (预计工时: 56h)

#### 3.3.1 伤害系统 - P0

| 任务ID | 任务描述 | 优先级 | 预计工时 | 依赖 | 验收标准 |
|--------|----------|--------|----------|------|----------|
| DM-001 | 伤害数据结构 | P0 | 4h | 无 | DamageInfo类 |
| DM-002 | 伤害计算器 | P0 | 6h | DM-001 | 类型克制，护甲计算 |
| DM-003 | 暴击系统 | P1 | 4h | DM-002 | 暴击率，暴击伤害 |
| DM-004 | 伤害数字显示 | P1 | 4h | DM-002 | 浮动文字，颜色区分 |
| DM-005 | 伤害日志系统 | P2 | 4h | DM-002 | 调试，统计 |
| DM-006 | 伤害免疫/无敌帧 | P1 | 4h | DM-002 | 受伤后短暂无敌 |
| DM-007 | 伤害类型扩展 | P2 | 4h | DM-002 | 持续伤害，延迟伤害 |

**伤害类型克制表:**

| 伤害类型 | 对装甲 | 对护盾 | 对生物 |
|----------|--------|--------|--------|
| 动能 | 150% | 75% | 100% |
| 能量 | 75% | 150% | 100% |
| 爆炸 | 125% | 125% | 100% |
| 腐蚀 | 100% | 100% | 150% |

#### 3.3.2 武器系统 - P0

| 任务ID | 任务描述 | 优先级 | 预计工时 | 依赖 | 验收标准 |
|--------|----------|--------|----------|------|----------|
| WP-001 | 武器基类设计 | P0 | 4h | 无 | WeaponBase抽象类 |
| WP-002 | 近战武器实现 | P0 | 6h | WP-001 | 钻头，机械爪 |
| WP-003 | 远程武器实现 | P0 | 8h | WP-001 | 激光，鱼雷 |
| WP-004 | 武器切换系统 | P0 | 4h | WP-002 | 快捷切换，冷却 |
| WP-005 | 武器升级系统 | P1 | 6h | WP-002 | 伤害，攻速提升 |
| WP-006 | 武器特效 | P1 | 6h | WP-002 | 开火特效，弹道 |
| WP-007 | 武器音效 | P1 | 4h | WP-002 | 开火，命中音效 |
| WP-008 | 武器平衡调优 | P2 | 6h | WP-007 | 各武器使用率均衡 |

**武器配置表:**

| 武器 | 类型 | 伤害 | 射程 | 攻速 | 能量消耗 |
|------|------|------|------|------|----------|
| 基础钻头 | 近战/动能 | 15 | 1.5m | 1.5/s | 2/次 |
| 强化钻头 | 近战/动能 | 25 | 1.8m | 1.8/s | 4/次 |
| 机械爪 | 近战/动能 | 20 | 2.0m | 1.0/s | 3/次 |
| 激光切割器 | 远程/能量 | 12 | 8m | 3.0/s | 3/次 |
| 脉冲炮 | 远程/能量 | 40 | 12m | 0.8/s | 15/次 |
| 微型鱼雷 | 远程/爆炸 | 60 | 15m | 0.5/s | 25/次 |

#### 3.3.3 护盾/装甲系统 - P1

| 任务ID | 任务描述 | 优先级 | 预计工时 | 依赖 | 验收标准 |
|--------|----------|--------|----------|------|----------|
| SD-001 | 护盾系统实现 | P1 | 6h | 无 | 能量护盾，自动恢复 |
| SD-002 | 装甲系统实现 | P1 | 4h | 无 | 减伤计算 |
| SD-003 | 护盾/装甲UI | P1 | 4h | SD-001 | 状态显示 |
| SD-004 | 护盾击破特效 | P2 | 4h | SD-001 | 破盾动画 |
| SD-005 | 装甲破损效果 | P2 | 4h | SD-002 | 外观变化 |

#### 3.3.4 战斗反馈系统 - P1

| 任务ID | 任务描述 | 优先级 | 预计工时 | 依赖 | 验收标准 |
|--------|----------|--------|----------|------|----------|
| FB-001 | 屏幕震动效果 | P1 | 4h | 无 | 受击，爆炸震动 |
| FB-002 | 时间缩放效果 | P2 | 4h | 无 | 暴击，击杀慢动作 |
| FB-003 | 命中停顿 | P1 | 4h | 无 | 攻击命中顿帧 |
| FB-004 | 命中特效 | P1 | 6h | 无 | 火花，血液(机油) |
| FB-005 | 受击动画 | P1 | 6h | 无 | 击退，硬直 |
| FB-006 | 击杀反馈 | P1 | 4h | FB-005 | 击杀确认，连击计数 |

---

### 3.4 战斗场景管理 (预计工时: 24h)

| 任务ID | 任务描述 | 优先级 | 预计工时 | 依赖 | 验收标准 |
|--------|----------|--------|----------|------|----------|
| CM-001 | 战斗区域管理 | P0 | 6h | 无 | 触发区，边界 |
| CM-002 | 敌人刷新系统 | P0 | 8h | CM-001 | 波次，随机生成 |
| CM-003 | 战斗音乐切换 | P1 | 4h | 无 | 进入/退出战斗 |
| CM-004 | 战斗统计 | P2 | 4h | 无 | 击杀数，伤害统计 |
| CM-005 | 战斗日志 | P2 | 2h | CM-004 | 记录战斗事件 |

---

## 美术资源补充计划

### 资源现状分析

根据 `AssetList.md` 统计：

| 类别 | 已完成 | 总数 | 剩余 | 进度 |
|------|--------|------|------|------|
| 角色 | 5 | 20 | 15 | 25% |
| 背景 | 3 | 16 | 13 | 19% |
| UI | 4 | 25 | 21 | 16% |
| 特效 | 3 | 20 | 17 | 15% |
| 道具 | 7 | 15 | 8 | 47% |
| 生物 | 0 | 7 | 7 | 0% |
| **总计** | **22** | **103** | **81** | **21%** |

---

### 优先级排序原则

1. **P0 (核心)** - 阻塞开发，必须优先完成
2. **P1 (重要)** - 影响游戏体验，尽快完成
3. **P2 (次要)** - 锦上添花，可延后
4. **P3 (可选)** - 有则更好，无则不影响

---

### Week 3 美术任务 (预计工时: 80h)

#### P0 优先级 (核心资源)

| 任务ID | 资源名称 | 类型 | 预计工时 | 依赖 | 验收标准 | 用途 |
|--------|----------|------|----------|------|----------|------|
| A3-001 | Mecha_Mk1_Engine.png | 角色 | 4h | 无 | 256x256, 透明背景 | 引擎改装部件 |
| A3-002 | Mecha_Mk1_Armor.png | 角色 | 4h | 无 | 256x256, 透明背景 | 装甲改装部件 |
| A3-003 | Mecha_Mk1_Drill.png | 角色 | 4h | 无 | 256x256, 透明背景 | 钻头改装部件 |
| A3-004 | Enemy_MechFish_Idle.png | 生物 | 6h | 无 | 128x128, 3帧动画 | 机械鱼待机 |
| A3-005 | Enemy_MechFish_Move.png | 生物 | 6h | A3-004 | 128x128, 6帧动画 | 机械鱼移动 |
| A3-006 | Enemy_MechFish_Attack.png | 生物 | 4h | A3-004 | 128x128, 4帧动画 | 机械鱼攻击 |
| A3-007 | Enemy_MechCrab_Idle.png | 生物 | 6h | 无 | 192x192, 4帧动画 | 机械蟹待机 |
| A3-008 | Enemy_MechCrab_Move.png | 生物 | 6h | A3-007 | 192x192, 6帧动画 | 机械蟹移动 |
| A3-009 | Enemy_MechCrab_Defend.png | 生物 | 4h | A3-007 | 192x192, 2帧动画 | 机械蟹防御 |
| A3-010 | UI_Health_Bar.png | UI | 4h | 无 | 9-patch, 可缩放 | 生命值条 |
| A3-011 | UI_Energy_Bar.png | UI | 4h | 无 | 9-patch, 可缩放 | 能量条 |
| A3-012 | UI_Oxygen_Bar.png | UI | 4h | 无 | 9-patch, 可缩放 | 氧气条 |
| A3-013 | FX_Hit_Spark.png | 特效 | 4h | 无 | 64x64, 粒子序列 | 击中火花 |
| A3-014 | FX_Explosion_Small.png | 特效 | 6h | 无 | 128x128, 8帧 | 小型爆炸 |
| A3-015 | FX_Shield_Hit.png | 特效 | 4h | 无 | 128x128, 6帧 | 护盾受击 |

#### P1 优先级 (重要资源)

| 任务ID | 资源名称 | 类型 | 预计工时 | 依赖 | 验收标准 | 用途 |
|--------|----------|------|----------|------|----------|------|
| A3-016 | Enemy_MechJellyfish_Idle.png | 生物 | 6h | 无 | 160x160, 4帧动画 | 水母待机 |
| A3-017 | Enemy_MechJellyfish_Pulse.png | 生物 | 6h | A3-016 | 160x160, 8帧动画 | 水母脉冲攻击 |
| A3-018 | Weapon_Drill_Lv1~3.png | 角色 | 6h | A3-003 | 64x64, 3个等级 | 钻头武器 |
| A3-019 | Weapon_Laser_Lv1~3.png | 角色 | 6h | 无 | 64x64, 3个等级 | 激光武器 |
| A3-020 | FX_Drill_Sparks.png | 特效 | 4h | A3-003 | 64x64, 粒子序列 | 钻头火花 |
| A3-021 | FX_Laser_Beam.png | 特效 | 4h | A3-019 | 32x256, 光束 | 激光束 |
| A3-022 | FX_Thruster_Orange.png | 特效 | 3h | 无 | 64x64, 粒子 | 橙色推进器 |
| A3-023 | Icon_Weapon_Drill.png | UI | 2h | A3-018 | 64x64, 图标 | 武器图标 |
| A3-024 | Icon_Weapon_Claw.png | UI | 2h | 无 | 64x64, 图标 | 武器图标 |
| A3-025 | Icon_Weapon_Laser.png | UI | 2h | A3-019 | 64x64, 图标 | 武器图标 |

---

### Week 4 美术任务 (预计工时: 72h)

#### P0 优先级

| 任务ID | 资源名称 | 类型 | 预计工时 | 依赖 | 验收标准 | 用途 |
|--------|----------|------|----------|------|----------|------|
| A4-001 | Boss_IronClaw_Phase1.png | 生物 | 10h | 无 | 512x512, 多帧 | Boss第一阶段 |
| A4-002 | Boss_IronClaw_Phase2.png | 生物 | 8h | A4-001 | 512x512, 多帧 | Boss第二阶段 |
| A4-003 | Boss_IronClaw_Phase3.png | 生物 | 8h | A4-002 | 512x512, 多帧 | Boss第三阶段 |
| A4-004 | BG_100m_Terrain.png | 背景 | 6h | 无 | 2048x2048, Tileable | 浅海地形 |
| A4-005 | BG_500m_Terrain.png | 背景 | 6h | 无 | 2048x2048, Tileable | 中层地形 |
| A4-006 | BG_2000m_Ruins.png | 背景 | 8h | 无 | 2048x2048, 遗迹 | 深渊遗迹 |
| A4-007 | UI_Panel_Basic.png | UI | 4h | 无 | 9-patch, 通用面板 | 基础面板 |
| A4-008 | UI_Panel_Inventory.png | UI | 4h | A4-007 | 9-patch, 背包面板 | 背包界面 |
| A4-009 | UI_Cargo_Slot.png | UI | 3h | 无 | 64x64, 槽位 | 货舱槽位 |
| A4-010 | UI_Depth_Meter.png | UI | 4h | 无 | 垂直进度条 | 深度计 |

#### P1 优先级

| 任务ID | 资源名称 | 类型 | 预计工时 | 依赖 | 验收标准 | 用途 |
|--------|----------|------|----------|------|----------|------|
| A4-011 | Parallax_Far.png | 背景 | 4h | 无 | 2048x1024 | 远景视差 |
| A4-012 | Parallax_Mid.png | 背景 | 4h | 无 | 2048x1024 | 中景视差 |
| A4-013 | Parallax_Near.png | 背景 | 4h | 无 | 2048x1024 | 近景视差 |
| A4-014 | Vein_Copper.png | 道具 | 3h | 无 | 128x128 | 铜矿脉 |
| A4-015 | Vein_Iron.png | 道具 | 3h | 无 | 128x128 | 铁矿脉 |
| A4-016 | Vein_Gold.png | 道具 | 3h | 无 | 128x128 | 金矿脉 |

---

### Week 5 美术任务 (预计工时: 64h)

#### P1 优先级

| 任务ID | 资源名称 | 类型 | 预计工时 | 依赖 | 验收标准 | 用途 |
|--------|----------|------|----------|------|----------|------|
| A5-001 | Mecha_Mk2_Base.png | 角色 | 8h | A3-001~003 | 256x256, 进阶机甲 | Mk.II基础 |
| A5-002 | Mecha_Mk2_Engine.png | 角色 | 4h | A5-001 | 256x256 | Mk.II引擎 |
| A5-003 | Mecha_Mk2_Armor.png | 角色 | 4h | A5-001 | 256x256 | Mk.II装甲 |
| A5-004 | Part_Cockpit_01~03.png | 角色 | 6h | 无 | 128x128, 3种 | 驾驶舱部件 |
| A5-005 | Part_Thruster_01~03.png | 角色 | 6h | 无 | 128x128, 3种 | 推进器部件 |
| A5-006 | Creature_Jellyfish_01.png | 生物 | 6h | A3-016 | 128x128, 被动生物 | 环境水母 |
| A5-007 | Creature_Fish_Small_01~03.png | 生物 | 8h | 无 | 64x64, 3种 | 小型鱼类 |
| A5-008 | FX_Biolumi_01~03.png | 特效 | 6h | 无 | 64x64, 发光 | 生物发光 |
| A5-009 | FX_Vent_Smoke.png | 特效 | 4h | 无 | 128x128, 粒子 | 喷口烟雾 |
| A5-010 | Coral_Deep_01~02.png | 道具 | 4h | 无 | 128x128, 2种 | 深海珊瑚 |
| A5-011 | Icon_Resource_Common.png | UI | 2h | 无 | 64x64 | 资源图标 |
| A5-012 | Icon_Resource_Rare.png | UI | 2h | 无 | 64x64 | 资源图标 |
| A5-013 | Icon_Resource_Legend.png | UI | 2h | 无 | 64x64 | 资源图标 |
| A5-014 | UI_Panel_Shop.png | UI | 4h | A4-007 | 9-patch | 商店面板 |
| A5-015 | UI_Panel_Upgrade.png | UI | 4h | A4-007 | 9-patch | 升级面板 |

---

### 美术资源制作排期

```
Week 3: ████████████████████████████████████████████████████████████████ 80h
        [P0:核心敌人+武器+基础UI+战斗特效]

Week 4: ██████████████████████████████████████████████████████████████ 72h
        [P0:Boss+背景+UI面板][P1:视差+矿脉]

Week 5: ████████████████████████████████████████████████████████████ 64h
        [P1:进阶机甲+部件+环境生物+UI完善]
```

---

## 现有系统完善

### 4.1 代码优化 (预计工时: 48h)

#### 4.1.1 性能优化 - P0

| 任务ID | 任务描述 | 优先级 | 预计工时 | 依赖 | 验收标准 |
|--------|----------|--------|----------|------|----------|
| CO-001 | ObjectPool性能分析 | P0 | 4h | 无 | 找出瓶颈 |
| CO-002 | ObjectPool优化 | P0 | 6h | CO-001 | 减少GC，提升命中率 |
| CO-003 | 渲染批次合并 | P0 | 6h | 无 | 减少DrawCall |
| CO-004 | 物理优化 | P0 | 6h | 无 | 减少不必要的碰撞检测 |
| CO-005 | 动画系统优化 | P1 | 4h | 无 | Animator → 简单动画 |
| CO-006 | 内存使用分析 | P1 | 4h | 无 | 找出内存泄漏 |
| CO-007 | 内存泄漏修复 | P1 | 8h | CO-006 | 修复所有泄漏点 |
| CO-008 | 加载时间优化 | P2 | 6h | 无 | 场景加载 < 3秒 |
| CO-009 | 代码审查与重构 | P1 | 8h | 无 | 消除重复代码 |

**性能目标:**
- 目标帧率: 60 FPS
- 最低帧率: 45 FPS
- 内存占用: < 500MB
- 加载时间: < 3秒

#### 4.1.2 代码结构优化 - P1

| 任务ID | 任务描述 | 优先级 | 预计工时 | 依赖 | 验收标准 |
|--------|----------|--------|----------|------|----------|
| CS-001 | 系统解耦 | P1 | 6h | 无 | 减少直接引用 |
| CS-002 | 事件系统完善 | P1 | 4h | CS-001 | 统一事件命名 |
| CS-003 | 配置外置化 | P1 | 6h | 无 | JSON/ScriptableObject |
| CS-004 | 依赖注入 | P2 | 6h | CS-001 | 使用DI框架 |
| CS-005 | 单元测试覆盖 | P2 | 8h | 无 | 核心系统覆盖 > 70% |

---

### 4.2 Bug修复 (预计工时: 40h)

#### 4.2.1 已知Bug清单

| BugID | 描述 | 严重程度 | 预计工时 | 负责人 | 状态 |
|-------|------|----------|----------|--------|------|
| BUG-001 | 机甲穿墙问题 | 高 | 4h | 程序 | 待修复 |
| BUG-002 | 资源采集计数错误 | 高 | 3h | 程序 | 待修复 |
| BUG-003 | 委托完成状态不同步 | 高 | 4h | 程序 | 待修复 |
| BUG-004 | 存档偶尔丢失 | 高 | 6h | 程序 | 待修复 |
| BUG-005 | UI层级错乱 | 中 | 3h | 程序 | 待修复 |
| BUG-006 | 音效重叠播放 | 中 | 2h | 程序 | 待修复 |
| BUG-007 | 深度显示延迟 | 中 | 2h | 程序 | 待修复 |
| BUG-008 | 机甲动画卡顿 | 中 | 4h | 程序 | 待修复 |
| BUG-009 | 背包容量计算错误 | 中 | 3h | 程序 | 待修复 |
| BUG-010 | 场景切换黑屏 | 高 | 5h | 程序 | 待修复 |
| BUG-011 | 粒子特效残留 | 低 | 2h | 程序 | 待修复 |
| BUG-012 | 相机跟随抖动 | 中 | 4h | 程序 | 待修复 |

#### 4.2.2 Bug修复流程

```
1. 复现Bug (1h)
2. 定位原因 (2-4h)
3. 修复实现 (2-4h)
4. 回归测试 (1h)
5. 文档更新 (0.5h)
```

---

### 4.3 系统完善 (预计工时: 32h)

#### 4.3.1 存档系统完善 - P0

| 任务ID | 任务描述 | 优先级 | 预计工时 | 依赖 | 验收标准 |
|--------|----------|--------|----------|------|----------|
| SV-001 | 存档版本控制 | P0 | 4h | 无 | 向后兼容 |
| SV-002 | 存档数据校验 | P0 | 4h | SV-001 | 防篡改 |
| SV-003 | 自动存档机制 | P0 | 4h | SV-001 | 定时/事件触发 |
| SV-004 | 多存档槽位 | P1 | 4h | SV-001 | 支持3个存档 |
| SV-005 | 存档云同步(预留) | P2 | 4h | SV-004 | 接口预留 |
| SV-006 | 存档导入导出 | P2 | 4h | SV-001 | 调试用途 |

#### 4.3.2 输入系统优化 - P1

| 任务ID | 任务描述 | 优先级 | 预计工时 | 依赖 | 验收标准 |
|--------|----------|--------|----------|------|----------|
| IP-001 | 输入配置系统 | P1 | 4h | 无 | 可自定义按键 |
| IP-002 | 手柄支持 | P2 | 8h | IP-001 | Xbox/PS手柄 |
| IP-003 | 触摸输入优化 | P2 | 6h | 无 | 移动端适配 |
| IP-004 | 输入缓冲机制 | P1 | 4h | 无 | 减少输入丢失 |

#### 4.3.3 音效系统完善 - P1

| 任务ID | 任务描述 | 优先级 | 预计工时 | 依赖 | 验收标准 |
|--------|----------|--------|----------|------|----------|
| AU-001 | 背景音乐系统 | P1 | 4h | 无 | 分层音乐，无缝切换 |
| AU-002 | 音效混合器 | P1 | 4h | 无 | 分类音量控制 |
| AU-003 | 3D音效支持 | P2 | 4h | AU-002 | 空间音效 |
| AU-004 | 动态音效 | P2 | 4h | AU-002 | 根据深度变化 |

---

## 跨周依赖关系图

```
Week 3 ──────────────────────────────────────────────────────────────

程序组:
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ AI-001~003  │───►│ E1-001~003  │───►│ E2-001~003  │
│ 状态机框架   │    │ 机械鱼实现   │    │ 机械蟹实现   │
└─────────────┘    └─────────────┘    └──────┬──────┘
                                             │
┌─────────────┐    ┌─────────────┐    ┌──────▼──────┐
│ DM-001~002  │◄───│ WP-001~003  │◄───│ FB-001~006  │
│ 伤害系统     │    │ 武器系统     │    │ 战斗反馈     │
└─────────────┘    └─────────────┘    └─────────────┘

美术组:
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ A3-004~006  │───►│ A3-007~009  │───►│ A3-010~012  │
│ 机械鱼资源   │    │ 机械蟹资源   │    │ UI资源      │
└─────────────┘    └─────────────┘    └──────┬──────┘
                                             │
┌─────────────┐    ┌─────────────┐    ┌──────▼──────┐
│ A3-013~015  │◄───│ A3-016~017  │◄───│ A3-018~025  │
│ 战斗特效    │    │ 水母资源     │    │ 武器资源     │
└─────────────┘    └─────────────┘    └─────────────┘

Week 4 ──────────────────────────────────────────────────────────────

程序组:
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ B1-001~003  │───►│ B1-004~006  │───►│ CO-001~004  │
│ Boss框架    │    │ Boss技能    │    │ 性能优化     │
└──────┬──────┘    └─────────────┘    └─────────────┘
       │
       ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ BUG-001~012 │───►│ SV-001~003  │───│ CS-001~003  │
│ Bug修复     │    │ 存档完善     │    │ 代码优化     │
└─────────────┘    └─────────────┘    └─────────────┘

美术组:
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ A4-001~003  │───►│ A4-004~006  │───►│ A4-007~010  │
│ Boss资源    │    │ 背景资源     │    │ UI面板      │
└─────────────┘    └─────────────┘    └──────┬──────┘
                                             │
                                    ┌────────▼────────┐
                                    │ A4-011~016      │
                                    │ 视差+矿脉       │
                                    └─────────────────┘

Week 5 ──────────────────────────────────────────────────────────────

程序组:
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ CO-005~009  │───►│ IP-001~004  │───►│ AU-001~004  │
│ 深度优化    │    │ 输入系统     │    │ 音效系统     │
└─────────────┘    └─────────────┘    └─────────────┘

美术组:
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ A5-001~005  │───►│ A5-006~007  │───►│ A5-008~010  │
│ 进阶机甲    │    │ 环境生物     │    │ 特效+环境   │
└─────────────┘    └─────────────┘    └──────┬──────┘
                                             │
                                    ┌────────▼────────┐
                                    │ A5-011~015      │
                                    │ UI图标+面板     │
                                    └─────────────────┘
```

---

## 工时汇总

### 按周统计

| 周次 | 程序 | 美术 | 测试 | 总计 |
|------|------|------|------|------|
| Week 3 | 168h | 80h | 16h | 264h |
| Week 4 | 120h | 72h | 24h | 216h |
| Week 5 | 64h | 64h | 16h | 144h |
| **总计** | **352h** | **216h** | **56h** | **624h** |

### 按类型统计

| 类型 | Week 3 | Week 4 | Week 5 | 总计 |
|------|--------|--------|--------|------|
| 敌人/战斗 | 168h | 40h | 0h | 208h |
| 美术资源 | 80h | 72h | 64h | 216h |
| 系统完善 | 0h | 80h | 64h | 144h |
| 测试 | 16h | 24h | 16h | 56h |

---

## 风险与应对

| 风险 | 可能性 | 影响 | 应对措施 |
|------|--------|------|----------|
| AI系统复杂度超预期 | 中 | 高 | Week 3优先完成基础AI，复杂行为延后 |
| Boss战开发延期 | 中 | 高 | 准备简化版Boss作为备选 |
| 美术资源制作延期 | 中 | 中 | 使用程序化生成/临时资源替代 |
| 性能优化不达标 | 中 | 高 | Week 4预留充足优化时间 |
| Bug修复耗时超预期 | 高 | 中 | 每日Bug评审，优先修复阻塞性Bug |
| 多人协作冲突 | 低 | 中 | 明确接口定义，每日同步进度 |

---

## 验收标准汇总

### Week 3 验收标准

- [ ] 3种敌人类型可正常运行
- [ ] AI状态机框架稳定
- [ ] 武器系统基础功能完成
- [ ] 伤害计算正确
- [ ] 核心美术资源到位
- [ ] 战斗反馈系统可用

### Week 4 验收标准

- [ ] Boss战可正常运行
- [ ] 所有P0 Bug修复完成
- [ ] 性能达到目标帧率
- [ ] 存档系统稳定
- [ ] 背景资源完整
- [ ] UI面板资源到位

### Week 5 验收标准

- [ ] 进阶机甲可用
- [ ] 输入系统完善
- [ ] 音效系统完善
- [ ] 代码结构优化完成
- [ ] 所有P1 Bug修复完成
- [ ] 准备进入Alpha阶段

---

*文档版本: 1.0*  
*创建日期: 2026-02-27*  
*下次评审: Week 3 结束时*
