<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SebeJJ èµ›åšæœºç”² - æŠ€æœ¯æ¶æ„å¯è§†åŒ–</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #eaeaea;
            min-height: 100vh;
        }
        
        .header {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid #e94560;
        }
        
        .header h1 {
            color: #e94560;
            font-size: 2.5em;
            text-shadow: 0 0 20px rgba(233, 69, 96, 0.5);
        }
        
        .header p {
            color: #a0a0a0;
            margin-top: 10px;
        }
        
        .nav-tabs {
            display: flex;
            justify-content: center;
            background: rgba(0, 0, 0, 0.2);
            padding: 10px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .nav-tab {
            padding: 12px 24px;
            background: rgba(233, 69, 96, 0.2);
            border: 1px solid #e94560;
            color: #eaeaea;
            cursor: pointer;
            border-radius: 25px;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .nav-tab:hover {
            background: rgba(233, 69, 96, 0.4);
            transform: translateY(-2px);
        }
        
        .nav-tab.active {
            background: #e94560;
            box-shadow: 0 0 15px rgba(233, 69, 96, 0.5);
        }
        
        .content {
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .diagram-container {
            display: none;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(233, 69, 96, 0.3);
        }
        
        .diagram-container.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .diagram-title {
            color: #e94560;
            font-size: 1.5em;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(233, 69, 96, 0.3);
        }
        
        .diagram-description {
            color: #a0a0a0;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .mermaid {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
        }
        
        .legend {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
        }
        
        .legend h3 {
            color: #e94560;
            margin-bottom: 10px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin: 8px 0;
            color: #ccc;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            margin-right: 10px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: rgba(233, 69, 96, 0.1);
            border: 1px solid rgba(233, 69, 96, 0.3);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 2em;
            color: #e94560;
            font-weight: bold;
        }
        
        .stat-label {
            color: #a0a0a0;
            margin-top: 5px;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            color: #666;
            border-top: 1px solid rgba(233, 69, 96, 0.3);
            margin-top: 40px;
        }
        
        /* Mermaidè‡ªå®šä¹‰æ ·å¼ */
        .mermaid .node rect {
            fill: rgba(233, 69, 96, 0.2) !important;
            stroke: #e94560 !important;
            stroke-width: 2px !important;
        }
        
        .mermaid .node text {
            fill: #eaeaea !important;
        }
        
        .mermaid .edgeLabel {
            background: rgba(0, 0, 0, 0.5) !important;
            color: #eaeaea !important;
        }
        
        .mermaid .cluster rect {
            fill: rgba(0, 0, 0, 0.3) !important;
            stroke: rgba(233, 69, 96, 0.5) !important;
        }
        
        .mermaid .cluster text {
            fill: #e94560 !important;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ”± SebeJJ èµ›åšæœºç”²</h1>
        <p>æŠ€æœ¯æ¶æ„å¯è§†åŒ– | æ¶æ„å¯è§†åŒ–å·¥ç¨‹å¸ˆ | 2026-02-27</p>
    </div>
    
    <div class="nav-tabs">
        <button class="nav-tab active" onclick="showTab('overview')">ğŸ“Š ç³»ç»Ÿæ¦‚è§ˆ</button>
        <button class="nav-tab" onclick="showTab('core')">ğŸ”§ æ ¸å¿ƒç³»ç»Ÿ</button>
        <button class="nav-tab" onclick="showTab('combat')">âš”ï¸ æˆ˜æ–—ç³»ç»Ÿ</button>
        <button class="nav-tab" onclick="showTab('ai')">ğŸ¤– AIç³»ç»Ÿ</button>
        <button class="nav-tab" onclick="showTab('mission')">ğŸ“‹ å§”æ‰˜ç³»ç»Ÿ</button>
        <button class="nav-tab" onclick="showTab('dataflow')">ğŸŒŠ æ•°æ®æµ</button>
        <button class="nav-tab" onclick="showTab('class')">ğŸ“¦ ç±»å…³ç³»</button>
    </div>
    
    <div class="content">
        <!-- ç³»ç»Ÿæ¦‚è§ˆ -->
        <div id="overview" class="diagram-container active">
            <h2 class="diagram-title">ğŸ“Š é¡¹ç›®ç»Ÿè®¡æ¦‚è§ˆ</h2>
            <div class="diagram-description">
                SebeJJèµ›åšæœºç”²é¡¹ç›®æ˜¯ä¸€ä¸ªæ·±æµ·èµ„æºçŒäººé¢˜æçš„Rogueliteæ¸¸æˆï¼ŒåŒ…å«å®Œæ•´çš„æˆ˜æ–—ã€AIã€å§”æ‰˜å’Œå­˜æ¡£ç³»ç»Ÿã€‚
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">132</div>
                    <div class="stat-label">C#è„šæœ¬æ–‡ä»¶</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">13</div>
                    <div class="stat-label">ç³»ç»Ÿæ¨¡å—</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">15+</div>
                    <div class="stat-label">å§”æ‰˜ä»»åŠ¡</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">8</div>
                    <div class="stat-label">AIçŠ¶æ€</div>
                </div>
            </div>
            
            <pre class="mermaid">
graph TB
    subgraph Core["ğŸ® æ ¸å¿ƒå±‚"]
        GM[GameManager]
        SM[SaveManager]
        UM[UIManager]
    end

    subgraph Systems["ğŸ“‹ ç³»ç»Ÿå±‚"]
        MM[MissionManager]
        RM[ResourceManager]
        DM[DiveManager]
    end

    subgraph Combat["âš”ï¸ æˆ˜æ–—ç³»ç»Ÿ"]
        CM[CombatManager]
        DC[DamageCalculator]
        CF[CombatFeedback]
    end

    subgraph AI["ğŸ¤– AIç³»ç»Ÿ"]
        ASM[AIStateMachine]
        AP[AIPerception]
        ASP[AStarPathfinding]
    end

    subgraph Player["ğŸ‘¤ ç©å®¶ç³»ç»Ÿ"]
        PMC[MechController]
        PMM[MechMovement]
        PC[MechCollector]
    end

    GM --> SM
    GM --> MM
    GM --> RM
    GM --> DM
    GM --> UM
    DM --> CM
    CM --> DC
    CM --> CF
    ASM --> AP
    ASM --> ASP
            </pre>
        </div>
        
        <!-- æ ¸å¿ƒç³»ç»Ÿ -->
        <div id="core" class="diagram-container">
            <h2 class="diagram-title">ğŸ”§ æ ¸å¿ƒç³»ç»Ÿæ¶æ„</h2>
            <div class="diagram-description">
                æ ¸å¿ƒå±‚åŒ…å«æ¸¸æˆçš„åŸºç¡€ç®¡ç†å™¨ï¼Œé‡‡ç”¨å•ä¾‹æ¨¡å¼è®¾è®¡ï¼Œè´Ÿè´£åè°ƒæ‰€æœ‰å­ç³»ç»Ÿçš„ç”Ÿå‘½å‘¨æœŸã€‚
            </div>
            
            <pre class="mermaid">
graph TB
    subgraph CoreLayer["æ ¸å¿ƒå±‚ Core"]
        GM[GameManager<br/>æ¸¸æˆç®¡ç†å™¨]
        SM[SaveManager<br/>å­˜æ¡£ç®¡ç†å™¨]
        EM[EventSystem<br/>äº‹ä»¶ç³»ç»Ÿ]
        SL[ServiceLocator<br/>æœåŠ¡å®šä½å™¨]
        CM2[ConfigManager<br/>é…ç½®ç®¡ç†å™¨]
    end

    subgraph SystemLayer["ç³»ç»Ÿå±‚ Systems"]
        MM[MissionManager<br/>å§”æ‰˜ç®¡ç†å™¨]
        RM[ResourceManager<br/>èµ„æºç®¡ç†å™¨]
        DM[DiveManager<br/>ä¸‹æ½œç®¡ç†å™¨]
    end

    subgraph UILayer["UIå±‚ UI"]
        UM[UIManager<br/>UIç®¡ç†å™¨]
    end

    subgraph DataLayer["æ•°æ®å±‚ Data"]
        GD[GameData<br/>æ¸¸æˆæ•°æ®]
        SD[SaveData<br/>å­˜æ¡£æ•°æ®]
    end

    GM -->|ç®¡ç†| SM
    GM -->|ç®¡ç†| MM
    GM -->|ç®¡ç†| RM
    GM -->|ç®¡ç†| DM
    GM -->|ç®¡ç†| UM
    
    SM -.->|ä¿å­˜/åŠ è½½| SD
    SM -.->|åº”ç”¨| GD
    
    MM -.->|äº‹ä»¶| EM
    RM -.->|äº‹ä»¶| EM
    DM -.->|äº‹ä»¶| EM
    
    CM2 -->|é…ç½®| GM
    SL -->|æœåŠ¡| GM
            </pre>
            
            <div class="legend">
                <h3>æ ¸å¿ƒç±»è¯´æ˜</h3>
                <div class="legend-item">
                    <div class="legend-color" style="background: #e94560;"></div>
                    <span>GameManager - æ¸¸æˆå…¨å±€ç®¡ç†å™¨ï¼Œå•ä¾‹æ¨¡å¼ï¼Œåè°ƒæ‰€æœ‰å­ç³»ç»Ÿ</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #0f3460;"></div>
                    <span>SaveManager - å­˜æ¡£ç®¡ç†å™¨ï¼Œæ”¯æŒåŸå­æ€§å†™å…¥ã€å¤‡ä»½æ¢å¤ã€ç‰ˆæœ¬å…¼å®¹</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #533483;"></div>
                    <span>UIManager - UIç®¡ç†å™¨ï¼Œé¢æ¿æ ˆç®¡ç†ï¼Œå±‚çº§æ§åˆ¶</span>
                </div>
            </div>
        </div>
        
        <!-- æˆ˜æ–—ç³»ç»Ÿ -->
        <div id="combat" class="diagram-container">
            <h2 class="diagram-title">âš”ï¸ æˆ˜æ–—ç³»ç»Ÿæ¶æ„</h2>
            <div class="diagram-description">
                æˆ˜æ–—ç³»ç»Ÿé‡‡ç”¨åˆ†å±‚è®¾è®¡ï¼ŒåŒ…å«ä¼¤å®³è®¡ç®—ã€é˜²å¾¡åˆ¤å®šã€æ­¦å™¨ç³»ç»Ÿå’Œæˆ˜æ–—åé¦ˆå››å¤§æ¨¡å—ã€‚
            </div>
            
            <pre class="mermaid">
graph TB
    subgraph CombatFlow["æˆ˜æ–—æµç¨‹"]
        Attack[æ”»å‡»å‘èµ·] --> DamageCalc[ä¼¤å®³è®¡ç®—]
        DamageCalc --> Defense[é˜²å¾¡åˆ¤å®š]
        Defense --> Apply[ä¼¤å®³åº”ç”¨]
        Apply --> Feedback[åé¦ˆè§¦å‘]
    end

    subgraph DamageSystem["ä¼¤å®³ç³»ç»Ÿ DM"]
        DI[DamageInfo<br/>ä¼¤å®³ä¿¡æ¯]
        DC[DamageCalculator<br/>ä¼¤å®³è®¡ç®—å™¨]
        DT[DamageType<br/>ä¼¤å®³ç±»å‹]
        TT[TargetType<br/>ç›®æ ‡ç±»å‹]
    end

    subgraph DefenseSystem["é˜²å¾¡ç³»ç»Ÿ DF"]
        AS[ArmorSystem<br/>æŠ¤ç”²ç³»ç»Ÿ]
        SS[ShieldSystem<br/>æŠ¤ç›¾ç³»ç»Ÿ]
        DS[DefenseSystem<br/>é˜²å¾¡ç³»ç»Ÿ]
    end

    subgraph FeedbackSystem["åé¦ˆç³»ç»Ÿ FB"]
        CF[CombatFeedback<br/>æˆ˜æ–—åé¦ˆ]
        HN[HitReaction<br/>å—å‡»ååº”]
        KF[KillFeedback<br/>å‡»æ€åé¦ˆ]
        DN[DamageNumber<br/>ä¼¤å®³æ•°å­—]
    end

    subgraph WeaponSystem["æ­¦å™¨ç³»ç»Ÿ WP"]
        WB[WeaponBase<br/>æ­¦å™¨åŸºç±»]
        MW[MeleeWeapon<br/>è¿‘æˆ˜æ­¦å™¨]
        RW[RangedWeapon<br/>è¿œç¨‹æ­¦å™¨]
        WC[WeaponCombo<br/>è¿å‡»ç³»ç»Ÿ]
    end

    WB -->|åˆ›å»º| DI
    DI --> DC
    DC -->|è®¡ç®—| AS
    DC -->|è®¡ç®—| SS
    AS --> Apply
    SS --> Apply
    Apply --> CF
    CF --> HN
    CF --> KF
    CF --> DN
    MW -->|è¿‘æˆ˜| DI
    RW -->|è¿œç¨‹| DI
    WC --> MW
            </pre>
            
            <div class="legend">
                <h3>ä¼¤å®³ç±»å‹å…‹åˆ¶è¡¨</h3>
                <div class="legend-item">
                    <span>ğŸ”´ åŠ¨èƒ½(Kinetic) - å¯¹è£…ç”²150%ï¼Œå¯¹æŠ¤ç›¾75%</span>
                </div>
                <div class="legend-item">
                    <span>ğŸ”µ èƒ½é‡(Energy) - å¯¹è£…ç”²75%ï¼Œå¯¹æŠ¤ç›¾150%</span>
                </div>
                <div class="legend-item">
                    <span>ğŸ’¥ çˆ†ç‚¸(Explosive) - å¯¹è£…ç”²125%ï¼Œå¯¹æŠ¤ç›¾125%</span>
                </div>
                <div class="legend-item">
                    <span>â˜£ï¸ è…èš€(Corrosive) - å¯¹ç”Ÿç‰©150%</span>
                </div>
                <div class="legend-item">
                    <span>âšª çœŸå®(True) - æ— è§†é˜²å¾¡</span>
                </div>
            </div>
        </div>
        
        <!-- AIç³»ç»Ÿ -->
        <div id="ai" class="diagram-container">
            <h2 class="diagram-title">ğŸ¤– AIç³»ç»Ÿæ¶æ„</h2>
            <div class="diagram-description">
                AIç³»ç»Ÿé‡‡ç”¨çŠ¶æ€æœºæ¨¡å¼ï¼ŒåŒ…å«æ„ŸçŸ¥ç³»ç»Ÿã€å¯»è·¯ç³»ç»Ÿå’ŒçŠ¶æ€ç®¡ç†ä¸‰å¤§æ ¸å¿ƒæ¨¡å—ã€‚
            </div>
            
            <pre class="mermaid">
graph TB
    subgraph AIFramework["AIæ¡†æ¶"]
        ASM[AIStateMachine<br/>çŠ¶æ€æœºæ ¸å¿ƒ]
        IAS[IAIState<br/>çŠ¶æ€æ¥å£]
        ASB[AIStateBase<br/>çŠ¶æ€åŸºç±»]
    end

    subgraph AIStates["AIçŠ¶æ€"]
        Idle[IdleState<br/>å¾…æœº]
        Patrol[PatrolState<br/>å·¡é€»]
        Alert[AlertState<br/>è­¦æˆ’]
        Chase[ChaseState<br/>è¿½å‡»]
        Attack[AttackState<br/>æ”»å‡»]
        Flee[FleeState<br/>é€ƒè·‘]
        Stun[StunState<br/>çœ©æ™•]
        Dead[DeadState<br/>æ­»äº¡]
    end

    subgraph Perception["æ„ŸçŸ¥ç³»ç»Ÿ AI-004"]
        AP[AIPerception<br/>æ„ŸçŸ¥ç³»ç»Ÿ]
        PT[PerceptionTarget<br/>æ„ŸçŸ¥ç›®æ ‡]
    end

    subgraph Pathfinding["å¯»è·¯ç³»ç»Ÿ AI-003"]
        ASP[AStarPathfinding<br/>A*å¯»è·¯]
        PF[PathFollower<br/>è·¯å¾„è·Ÿéš]
    end

    subgraph EnemyAI["æ•ŒäººAIå®ç°"]
        EB[EnemyBase<br/>æ•ŒäººåŸºç±»]
        MFA[MechFishAI<br/>æœºæ¢°é±¼AI]
        MCA[MechCrabAI<br/>æœºæ¢°èŸ¹AI]
        MJA[MechJellyfishAI<br/>æœºæ¢°æ°´æ¯AI]
    end

    ASM -->|ç®¡ç†| IAS
    IAS -->|å®ç°| ASB
    ASB -->|æ´¾ç”Ÿ| Idle
    ASB -->|æ´¾ç”Ÿ| Patrol
    ASB -->|æ´¾ç”Ÿ| Alert
    ASB -->|æ´¾ç”Ÿ| Chase
    ASB -->|æ´¾ç”Ÿ| Attack
    ASB -->|æ´¾ç”Ÿ| Flee
    ASB -->|æ´¾ç”Ÿ| Stun
    ASB -->|æ´¾ç”Ÿ| Dead
    
    AP -->|æ£€æµ‹| PT
    AP -.->|é€šçŸ¥| ASM
    
    ASP -->|ç”Ÿæˆè·¯å¾„| PF
    PF -.->|ç§»åŠ¨| ASM
    
    EB -->|åŒ…å«| ASM
    EB -->|åŒ…å«| AP
    EB -->|ä½¿ç”¨| ASP
    MFA -->|ç»§æ‰¿| EB
    MCA -->|ç»§æ‰¿| EB
    MJA -->|ç»§æ‰¿| EB
            </pre>
            
            <div class="legend">
                <h3>æ„ŸçŸ¥ç±»å‹</h3>
                <div class="legend-item">
                    <span>ğŸ‘ï¸ è§†è§‰(Visual) - è§†é‡èŒƒå›´æ£€æµ‹ï¼Œè§†çº¿åˆ¤å®š</span>
                </div>
                <div class="legend-item">
                    <span>ğŸ‘‚ å¬è§‰(Auditory) - å™ªéŸ³æ£€æµ‹ï¼ŒèŒƒå›´æ„ŸçŸ¥</span>
                </div>
                <div class="legend-item">
                    <span>ğŸ§  è®°å¿†(Memory) - ç›®æ ‡ä¸¢å¤±åçš„è®°å¿†è¿½è¸ª</span>
                </div>
            </div>
        </div>
        
        <!-- å§”æ‰˜ç³»ç»Ÿ -->
        <div id="mission" class="diagram-container">
            <h2 class="diagram-title">ğŸ“‹ å§”æ‰˜ç³»ç»Ÿæ¶æ„</h2>
            <div class="diagram-description">
                å§”æ‰˜ç³»ç»Ÿé‡‡ç”¨æ•°æ®é©±åŠ¨è®¾è®¡ï¼Œæ”¯æŒå¤šç§å§”æ‰˜ç±»å‹å’ŒåŠ¨æ€ç”Ÿæˆã€‚
            </div>
            
            <pre class="mermaid"
graph TB
    subgraph MissionCore["å§”æ‰˜æ ¸å¿ƒ"]
        MM[MissionManager<br/>å§”æ‰˜ç®¡ç†å™¨]
        MD[MissionData<br/>å§”æ‰˜æ•°æ®SO]
        M[Mission<br/>è¿è¡Œæ—¶å§”æ‰˜]
    end

    subgraph MissionTypes["å§”æ‰˜ç±»å‹"]
        MT[MissionType<br/>ç±»å‹æšä¸¾]
        Collection[Collection<br/>é‡‡é›†]
        Exploration[Exploration<br/>æ¢ç´¢]
        Scan[Scan<br/>æ‰«æ]
        Delivery[Delivery<br/>è¿é€]
        Elimination[Elimination<br/>æ¸…é™¤]
    end

    subgraph MissionStatus["å§”æ‰˜çŠ¶æ€"]
        MS[MissionStatus<br/>çŠ¶æ€æšä¸¾]
        Available[Available<br/>å¯ç”¨]
        Active[Active<br/>è¿›è¡Œä¸­]
        Completed[Completed<br/>å·²å®Œæˆ]
        Failed[Failed<br/>å¤±è´¥]
    end

    subgraph Objectives["ç›®æ ‡ç³»ç»Ÿ"]
        MO[MissionObjective<br/>å§”æ‰˜ç›®æ ‡]
        RI[RewardItem<br/>å¥–åŠ±ç‰©å“]
        MT2[MissionTracker<br/>å§”æ‰˜è¿½è¸ª]
    end

    MM -->|ç®¡ç†| M
    MD -->|å®ä¾‹åŒ–| M
    MM -->|è¯»å–| MD
    
    MM -->|ä½¿ç”¨| MT
    MT --> Collection
    MT --> Exploration
    MT --> Scan
    MT --> Delivery
    MT --> Elimination
    
    M -->|çŠ¶æ€| MS
    MS --> Available
    MS --> Active
    MS --> Completed
    MS --> Failed
    
    M -->|åŒ…å«| MO
    M -->|åŒ…å«| RI
    MM -->|ä½¿ç”¨| MT2
            </pre>
            
            <div class="legend">
                <h3>å§”æ‰˜äº‹ä»¶æµ</h3>
                <div class="legend-item">
                    <span>ğŸ“¥ OnMissionAccepted - å§”æ‰˜è¢«æ¥å–æ—¶è§¦å‘</span>
                </div>
                <div class="legend-item">
                    <span>âœ… OnMissionCompleted - å§”æ‰˜å®Œæˆæ—¶è§¦å‘</span>
                </div>
                <div class="legend-item">
                    <span>âŒ OnMissionFailed - å§”æ‰˜å¤±è´¥æ—¶è§¦å‘</span>
                </div>
                <div class="legend-item">
                    <span>ğŸ“ OnMissionUpdated - å§”æ‰˜è¿›åº¦æ›´æ–°æ—¶è§¦å‘</span>
                </div>
            </div>
        </div>
        
        <!-- æ•°æ®æµ -->
        <div id="dataflow" class="diagram-container">
            <h2 class="diagram-title">ğŸŒŠ æ•°æ®æµå›¾</h2>
            <div class="diagram-description">
                å±•ç¤ºæ¸¸æˆä¸­å…³é”®æ•°æ®æµè½¬è¿‡ç¨‹ï¼ŒåŒ…æ‹¬æˆ˜æ–—ã€å§”æ‰˜å’Œå­˜æ¡£æ•°æ®æµã€‚
            </div>
            
            <pre class="mermaid">
sequenceDiagram
    participant P as ç©å®¶
    participant W as æ­¦å™¨ç³»ç»Ÿ
    participant D as ä¼¤å®³è®¡ç®—
    participant T as ç›®æ ‡
    participant F as åé¦ˆç³»ç»Ÿ
    participant U as UIç³»ç»Ÿ

    P->>W: å‘èµ·æ”»å‡»
    W->>W: å‘½ä¸­æ£€æµ‹
    W->>D: åˆ›å»ºDamageInfo
    D->>D: è®¡ç®—ç±»å‹å…‹åˆ¶
    D->>T: æŸ¥è¯¢é˜²å¾¡å±æ€§
    T-->>D: è¿”å›æŠ¤ç”²/æŠ¤ç›¾
    D->>D: åº”ç”¨é˜²å¾¡å‡å…
    D->>T: åº”ç”¨æœ€ç»ˆä¼¤å®³
    T->>F: è§¦å‘å—å‡»åé¦ˆ
    F->>U: æ˜¾ç¤ºä¼¤å®³æ•°å­—
            </pre>
            
            <pre class="mermaid">
sequenceDiagram
    participant P as ç©å®¶
    participant MM as MissionManager
    participant M as Mission
    participant RM as ResourceManager
    participant SM as SaveManager

    P->>MM: AcceptMission
    MM->>M: åˆ›å»ºè¿è¡Œæ—¶å®ä¾‹
    MM->>SM: è§¦å‘å­˜æ¡£
    
    loop å§”æ‰˜è¿›è¡Œä¸­
        P->>RM: é‡‡é›†èµ„æº
        RM->>MM: æ›´æ–°è¿›åº¦
        MM->>MM: CheckCompletion
    end
    
    MM->>RM: å‘æ”¾å¥–åŠ±
    MM->>SM: è§¦å‘å­˜æ¡£
            </pre>
        </div>
        
        <!-- ç±»å…³ç³» -->
        <div id="class" class="diagram-container">
            <h2 class="diagram-title">ğŸ“¦ ç±»ç»§æ‰¿å…³ç³»</h2>
            <div class="diagram-description">
                å±•ç¤ºé¡¹ç›®ä¸­ä¸»è¦ç±»çš„ç»§æ‰¿å…³ç³»å’Œæ¥å£å®ç°ã€‚
            </div>
            
            <pre class="mermaid">
graph TB
    subgraph Unity["UnityåŸºç±»"]
        MB[MonoBehaviour]
        SO[ScriptableObject]
    end

    subgraph Core["æ ¸å¿ƒç±»"]
        GM[GameManager]
        SM[SaveManager]
        UM[UIManager]
    end

    subgraph Combat["æˆ˜æ–—ç±»"]
        WB[WeaponBase]
        MW[MeleeWeapon]
        RW[RangedWeapon]
        EB[EnemyBase]
    end

    subgraph AI["AIç±»"]
        ASM[AIStateMachine]
        ASB[AIStateBase]
        IAS[IAIState<br/>æ¥å£]
    end

    subgraph Data["æ•°æ®ç±»"]
        MD[MissionData]
        WD[WeaponData]
    end

    subgraph Enemy["æ•Œäººå®ç°"]
        MFA[MechFishAI]
        MCA[MechCrabAI]
        MJA[MechJellyfishAI]
        ICB[IronClawBeastBoss]
    end

    MB --> GM
    MB --> SM
    MB --> UM
    MB --> WB
    MB --> EB
    MB --> ASM
    
    SO --> MD
    SO --> WD
    
    WB --> MW
    WB --> RW
    
    IAS -->|å®ç°| ASB
    
    EB --> MFA
    EB --> MCA
    EB --> MJA
    EB --> ICB
            </pre>
        </div>
    </div>
    
    <div class="footer">
        <p>SebeJJ èµ›åšæœºç”² - æŠ€æœ¯æ¶æ„å¯è§†åŒ–</p>
        <p>ç”Ÿæˆæ—¶é—´: 2026-02-27 | æ¶æ„å¯è§†åŒ–å·¥ç¨‹å¸ˆ</p>
    </div>
    
    <script>
        // åˆå§‹åŒ–Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            },
            sequence: {
                useMaxWidth: true,
                diagramMarginX: 50,
                diagramMarginY: 10
            }
        });
        
        // Tabåˆ‡æ¢åŠŸèƒ½
        function showTab(tabId) {
            // éšè—æ‰€æœ‰å®¹å™¨
            const containers = document.querySelectorAll('.diagram-container');
            containers.forEach(container => {
                container.classList.remove('active');
            });
            
            // ç§»é™¤æ‰€æœ‰tabçš„activeç±»
            const tabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„å®¹å™¨
            document.getElementById(tabId).classList.add('active');
            
            // æ·»åŠ activeç±»åˆ°ç‚¹å‡»çš„tab
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
