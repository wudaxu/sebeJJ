# 敌人行为参数表

## 机械鱼 (MechFish)

### 基础属性

| 参数 | 值 | 调优理由 |
|-----|---|---------|
| 生命值 | 80 | 脆皮敌人，快速击杀 |
| 移动速度 | 4.5 m/s | 快速游动，增加追击压力 |
| 旋转速度 | 360°/s | 灵活转向 |
| 攻击力 | 15 | 中等伤害 |
| 攻击冷却 | 1.2s | 攻击频率 |
| 攻击范围 | 1.5m | 近战范围 |

### AI行为参数

| 参数 | 值 | 调优理由 |
|-----|---|---------|
| 检测范围 | 12m | 较早发现玩家 |
| 丢失目标距离 | 18m | 追击距离较长 |
| 游荡半径 | 10m | 较大的活动范围 |
| 游荡间隔 | 4s | 定期更换目标点 |
| 追击加速 | 1.3x | 追击时速度提升 |

### 冲撞攻击参数

| 参数 | 值 | 调优理由 |
|-----|---|---------|
| 冲撞蓄力时间 | 0.6s | 明显预警 |
| 冲撞速度 | 8 m/s | 高速冲撞 |
| 冲撞距离 | 5m | 冲撞射程 |
| 冲撞持续时间 | 0.4s | 冲撞过程 |
| 冲撞冷却 | 4s | 限制使用频率 |
| 冲撞伤害倍率 | 1.8x | 高伤害技能 |
| 冲撞前摇 | 0.3s | 预警时间 |

### 受击反馈

| 参数 | 值 | 说明 |
|-----|---|------|
| 受击硬直 | 0.15s | 被击中时停顿 |
| 受击击退 | 6 | 被击中时后退 |
| 受击动画 | 闪烁+抖动 | 视觉反馈 |
| 无敌帧 | 0.1s | 受伤后短暂无敌 |

### 行为状态机

```
Idle (待机) → Patrol (游荡) → Chase (追击) → Attack (攻击)
                    ↑___________________________|
```

| 状态转换 | 条件 | 延迟 |
|---------|------|------|
| Idle → Patrol | 待机2-4秒 | 无 |
| Patrol → Chase | 发现玩家 | 0.2s |
| Chase → Attack | 距离<1.5m | 0.1s |
| Attack → Chase | 攻击完成 | 0.3s |
| Chase → Patrol | 丢失目标3秒 | 无 |

---

## 机械蟹 (MechCrab)

### 基础属性

| 参数 | 值 | 调优理由 |
|-----|---|---------|
| 生命值 | 150 | 较肉，需要多次攻击 |
| 移动速度 | 2.5 m/s | 缓慢移动 |
| 旋转速度 | 180°/s | 较慢转向 |
| 攻击力 | 20 | 高伤害 |
| 攻击冷却 | 1.5s | 较慢攻击频率 |
| 攻击范围 | 2.0m | 较长攻击距离 |

### AI行为参数

| 参数 | 值 | 调优理由 |
|-----|---|---------|
| 检测范围 | 10m | 标准检测 |
| 警戒检测倍率 | 1.5x | 警戒时检测增加 |
| 丢失目标距离 | 15m | 较短追击距离 |
| 巡逻等待时间 | 3s | 每个巡逻点停留 |

### 防御行为参数

| 参数 | 值 | 调优理由 |
|-----|---|---------|
| 防御触发几率 | 35% | 受伤时有几率防御 |
| 防御减伤 | 75% | 防御时大幅减伤 |
| 防御持续时间 | 3s | 防御姿态维持时间 |
| 防御冷却 | 6s | 限制防御频率 |
| 防御转向速度 | 90°/s | 防御时缓慢转向 |
| 破防眩晕 | 0.8s | 防御被打破时眩晕 |

### 钳击连击参数

| 参数 | 值 | 说明 |
|-----|---|------|
| 最大连击数 | 3 | 最多3连击 |
| 连击窗口 | 1.5s | 连击间隔 |
| 连击伤害递增 | 1.0x → 1.2x → 1.5x | 伤害递增 |
| 连击速度递增 | 1.0x → 1.1x → 1.2x | 速度递增 |
| 钳击角度 | 60° | 扇形攻击范围 |
| 钳击射程 | 2.5m | 钳击攻击距离 |

### 反击行为

| 参数 | 值 | 说明 |
|-----|---|------|
| 反击触发条件 | 成功防御后 | 防御成功后 |
| 反击前摇 | 0.2s | 快速反击 |
| 反击伤害倍率 | 1.3x | 反击伤害加成 |
| 反击不可打断 | 是 | 反击期间霸体 |

### 受击反馈

| 参数 | 值 | 说明 |
|-----|---|------|
| 受击硬直 | 0.2s | 较长硬直 |
| 受击击退 | 4 | 较轻击退 |
| 防御硬直 | 0.05s | 防御时几乎无硬直 |
| 破防硬直 | 0.8s | 破防时大硬直 |

### 行为状态机

```
Idle → Patrol → Alert (警戒) → Chase → Attack
              ↓
            Defend (防御) → Counter (反击)
```

| 状态转换 | 条件 | 延迟 |
|---------|------|------|
| Idle → Patrol | 待机1秒 | 无 |
| Patrol → Alert | 发现可疑 | 0.5s确认 |
| Alert → Chase | 确认目标 | 0.5s |
| Alert → Patrol | 虚惊一场 | 2s |
| Chase → Attack | 距离<2m | 0.1s |
| Chase → Defend | 35%几率 | 即时 |
| Defend → Counter | 成功防御 | 0.2s |
| Defend → Chase | 防御结束 | 无 |

---

## 机械水母 (MechJellyfish)

### 基础属性

| 参数 | 值 | 调优理由 |
|-----|---|---------|
| 生命值 | 60 | 脆皮 |
| 移动速度 | 2.0 m/s | 缓慢漂浮 |
| 悬浮高度 | 1-3m | 垂直移动 |
| 攻击力 | 12 | 低伤害 |
| 攻击冷却 | 2.0s | 慢速攻击 |
| 攻击范围 | 8m | 远程攻击 |

### AI行为参数

| 参数 | 值 | 调优理由 |
|-----|---|---------|
| 检测范围 | 15m | 远程侦测 |
| 最小攻击距离 | 4m | 保持安全距离 |
| 漂浮范围 | 5m | 垂直+水平移动 |
| 电击范围 | 3m | 近身防御 |

### 电击攻击参数

| 参数 | 值 | 说明 |
|-----|---|------|
| 电击蓄力 | 1.0s | 明显预警 |
| 电击范围 | 3m半径 | 范围攻击 |
| 电击伤害 | 15 | 中等伤害 |
| 麻痹时间 | 0.5s | 控制效果 |
| 电击冷却 | 5s | 限制频率 |

### 受击反馈

| 参数 | 值 | 说明 |
|-----|---|------|
| 受击硬直 | 0.3s | 较长硬直 |
| 受击击退 | 8 | 强击退 |
| 受击下坠 | 是 | 被击中后下坠 |

---

## 通用敌人参数

### 敌人生成节奏

| 波次 | 间隔 | 数量 | 组成 |
|-----|------|------|------|
| 开场 | 0s | 2-3 | 机械鱼 |
| 第1波 | 15s | 3-4 | 机械鱼x2 + 机械蟹x1 |
| 第2波 | 20s | 4-5 | 机械鱼x2 + 机械蟹x2 |
| 第3波 | 25s | 5-6 | 混合 |
| 精英波 | 30s | 2-3 | 强化版 |

### 危险预警系统

| 预警类型 | 触发条件 | 预警时间 | 效果 |
|---------|---------|---------|------|
| 红色警示 | 敌人攻击前摇 | 0.3-0.6s | 敌人发光 |
| 声音提示 | 敌人进入攻击范围 | 即时 | 威胁音效 |
| 屏幕边缘 | 屏幕外有敌人 | 持续 | 边缘红光 |
| 锁定提示 | 被远程锁定 | 0.5s | 锁定图标 |

### 受击通用参数

| 参数 | 值 | 说明 |
|-----|---|------|
| 最小硬直 | 0.05s | 所有敌人至少有的硬直 |
| 硬直上限 | 0.5s | 最长硬直时间 |
| 硬直递减 | 20%/次 | 连续受击硬直递减 |
| 击退衰减 | 10%/次 | 连续击退效果递减 |
| 无敌帧 | 0.1s | 受伤后无敌 |

### 死亡反馈

| 参数 | 值 | 说明 |
|-----|---|------|
| 死亡动画 | 0.5s | 死亡动画时长 |
| 死亡硬直 | 0.1s | 最后一击停顿 |
| 死亡震动 | 0.3强度 | 击杀震动 |
| 死亡特效 | 爆炸/解体 | 视觉反馈 |
| 尸体停留 | 3s | 尸体存在时间 |
| 尸体淡出 | 1s | 淡出时间 |
