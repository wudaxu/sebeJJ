# SebeJJ 武器系统测试用例

## 文档信息

| 项目 | 内容 |
|------|------|
| 所属模块 | 武器系统 (Weapon System) |
| 测试类型 | 功能测试、平衡测试、性能测试 |
| 优先级 | P0 - 核心系统 |
| 关联需求 | WEEK2_PLAN.md Day 8, 10, 14 |

---

## 测试用例统计

| 类别 | 用例数 | 优先级分布 |
|------|--------|------------|
| 武器基础功能 | 15 | P0: 10, P1: 5 |
| 武器切换系统 | 10 | P0: 7, P1: 3 |
| 特定武器类型 | 20 | P0: 14, P1: 6 |
| 能量管理 | 10 | P0: 7, P1: 3 |
| 瞄准系统 | 10 | P0: 6, P1: 4 |
| 武器平衡 | 8 | P0: 5, P1: 3 |
| **总计** | **73** | **P0: 49, P1: 24** |

---

## 一、武器基础功能测试 (WPN-BAS)

### WPN-BAS-001: WeaponData ScriptableObject
**优先级:** P0 | **类型:** 单元测试

| 项目 | 内容 |
|------|------|
| **前置条件** | WeaponData SO 已创建 |
| **测试步骤** | 1. 创建 WeaponData 实例<br>2. 设置各项属性<br>3. 验证属性保存正确 |
| **预期结果** | WeaponData 正确存储武器配置 |
| **测试数据** | weaponName: "TestWeapon", damage: 50, fireRate: 2 |

### WPN-BAS-002: 武器基类初始化
**优先级:** P0 | **类型:** 单元测试

| 项目 | 内容 |
|------|------|
| **前置条件** | Weapon 基类已实现 |
| **测试步骤** | 1. 创建 Weapon 实例<br>2. 传入 WeaponData<br>3. 验证初始化正确 |
| **预期结果** | 武器正确加载配置数据 |
| **测试数据** | WeaponData: TestWeaponData |

### WPN-BAS-003: 武器射击功能
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 武器已装备 |
| **测试步骤** | 1. 调用 Fire() 方法<br>2. 验证投射物生成<br>3. 验证射击事件触发 |
| **预期结果** | 射击时生成投射物并触发事件 |
| **测试数据** | fireInput: true |

### WPN-BAS-004: 射击冷却时间
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 武器已配置射速 |
| **测试步骤** | 1. 连续射击<br>2. 验证射击间隔<br>3. 验证冷却期间无法射击 |
| **预期结果** | 射击遵循 fireRate 设定的间隔 |
| **测试数据** | fireRate: 2/s → interval: 0.5s |

### WPN-BAS-005: 武器射程限制
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 武器已配置射程 |
| **测试步骤** | 1. 射击<br>2. 验证投射物飞行距离<br>3. 验证超过射程后销毁 |
| **预期结果** | 投射物在最大射程处销毁 |
| **测试数据** | range: 20 |

### WPN-BAS-006: 武器伤害值
**优先级:** P0 | **类型:** 单元测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 武器已配置伤害 |
| **测试步骤** | 1. 获取武器伤害值<br>2. 验证与配置一致 |
| **预期结果** | 武器伤害值等于配置值 |
| **测试数据** | damage: 50 |

### WPN-BAS-007: 武器伤害类型
**优先级:** P0 | **类型:** 单元测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 武器已配置伤害类型 |
| **测试步骤** | 1. 获取武器伤害类型<br>2. 验证与配置一致 |
| **预期结果** | 武器伤害类型正确 |
| **测试数据** | damageType: Energy |

### WPN-BAS-008: 武器特效播放
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 武器配置了特效 |
| **测试步骤** | 1. 射击<br>2. 验证枪口特效<br>3. 验证射击音效 |
| **预期结果** | 射击时播放配置特效和音效 |
| **测试数据** | muzzleFlashPrefab, shootSFX |

### WPN-BAS-009: 武器弹药/能量消耗
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 武器配置能量消耗 |
| **测试步骤** | 1. 记录当前能量<br>2. 射击<br>3. 验证能量减少 |
| **预期结果** | 射击后能量减少 energyCost |
| **测试数据** | energyCost: 10 |

### WPN-BAS-010: 武器过热机制
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 武器有过热机制 |
| **测试步骤** | 1. 连续射击<br>2. 验证热量积累<br>3. 过热后验证无法射击<br>4. 冷却后恢复 |
| **预期结果** | 过热时无法射击，冷却后恢复 |
| **测试数据** | heatPerShot: 10, maxHeat: 100, coolRate: 20/s |

### WPN-BAS-011: 武器升级槽位
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 武器支持升级 |
| **测试步骤** | 1. 安装升级模块<br>2. 验证属性变化<br>3. 验证升级效果生效 |
| **预期结果** | 升级正确修改武器属性 |
| **测试数据** | upgrade: DamageBoost (+20% damage) |

### WPN-BAS-012: 武器耐久度
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 武器有耐久度系统 |
| **测试步骤** | 1. 射击<br>2. 验证耐久度减少<br>3. 耐久度为0后验证武器损坏 |
| **预期结果** | 使用消耗耐久度，损坏后无法使用 |
| **测试数据** | durability: 100, durabilityPerShot: 1 |

### WPN-BAS-013: 武器拾取/装备
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 场景中有可拾取武器 |
| **测试步骤** | 1. 接近武器<br>2. 拾取武器<br>3. 验证武器添加到库存 |
| **预期结果** | 武器正确拾取并可用 |
| **测试数据** | weaponPickup: TestWeapon |

### WPN-BAS-014: 武器丢弃
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 玩家持有武器 |
| **测试步骤** | 1. 丢弃武器<br>2. 验证从库存移除<br>3. 验证场景中出现武器 |
| **预期结果** | 武器正确丢弃到场景 |
| **测试数据** | dropPosition: playerPosition |

### WPN-BAS-015: 武器稀有度
**优先级:** P1 | **类型:** 单元测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 武器配置稀有度 |
| **测试步骤** | 1. 获取武器稀有度<br>2. 验证稀有度影响属性 |
| **预期结果** | 稀有度影响基础属性值 |
| **测试数据** | rarity: Rare (+10% stats) |

---

## 二、武器切换系统测试 (WPN-SWT)

### WPN-SWT-001: 武器切换功能
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 玩家装备多种武器 |
| **测试步骤** | 1. 按切换键<br>2. 验证武器切换<br>3. 验证新武器激活 |
| **预期结果** | 武器正确切换，新武器可用 |
| **测试数据** | switchInput: Tab/Scroll |

### WPN-SWT-002: 武器切换动画
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 武器有切换动画 |
| **测试步骤** | 1. 切换武器<br>2. 验证切换动画播放<br>3. 验证动画完成后可射击 |
| **预期结果** | 切换时有动画，期间无法射击 |
| **测试数据** | switchAnimationDuration: 0.3s |

### WPN-SWT-003: 武器切换冷却
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 武器切换有冷却 |
| **测试步骤** | 1. 快速切换武器<br>2. 验证冷却限制 |
| **预期结果** | 切换有最小间隔限制 |
| **测试数据** | switchCooldown: 0.5s |

### WPN-SWT-004: 武器轮盘选择
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 武器轮盘UI已配置 |
| **测试步骤** | 1. 打开武器轮盘<br>2. 选择武器<br>3. 验证选中武器装备 |
| **预期结果** | 轮盘选择正确装备武器 |
| **测试数据** | wheelSlots: 5 |

### WPN-SWT-005: 快捷键切换武器
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 武器配置了快捷键 |
| **测试步骤** | 1. 按数字键1-5<br>2. 验证切换到对应武器 |
| **预期结果** | 快捷键直接切换到指定武器 |
| **测试数据** | hotkeys: [1,2,3,4,5] |

### WPN-SWT-006: 空武器槽处理
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 武器槽位有空位 |
| **测试步骤** | 1. 切换到空槽位<br>2. 验证无法射击<br>3. 验证提示信息 |
| **预期结果** | 空槽位无法使用，有提示 |
| **测试数据** | emptySlot: null |

### WPN-SWT-007: 武器切换时状态保持
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 武器有状态（如热量） |
| **测试步骤** | 1. 使用武器积累热量<br>2. 切换武器<br>3. 切换回原武器<br>4. 验证热量保持 |
| **预期结果** | 武器状态在切换后保持 |
| **测试数据** | heat: 50 |

### WPN-SWT-008: 武器切换事件
**优先级:** P1 | **类型:** 单元测试

| 项目 | 内容 |
|------|------|
| **前置条件** | EventSystem 已配置 |
| **测试步骤** | 1. 订阅武器切换事件<br>2. 切换武器<br>3. 验证事件触发 |
| **预期结果** | 切换武器时触发事件 |
| **测试数据** | event: OnWeaponSwitched |

### WPN-SWT-009: 武器锁定切换
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 某些情况下锁定切换 |
| **测试步骤** | 1. 在特定状态（如攻击中）<br>2. 尝试切换武器<br>3. 验证被阻止 |
| **预期结果** | 特定状态下无法切换武器 |
| **测试数据** | lockDuring: [Attacking, Reloading] |

### WPN-SWT-010: 武器切换音效
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | AudioManager 已配置 |
| **测试步骤** | 1. 切换武器<br>2. 验证切换音效 |
| **预期结果** | 切换武器时播放音效 |
| **测试数据** | switchSFX: WeaponSwitch |

---

## 三、特定武器类型测试 (WPN-TYP)

### MiningLaser (采矿激光)

#### WPN-TYP-ML-001: 持续伤害
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 装备采矿激光 |
| **测试步骤** | 1. 按住射击<br>2. 验证持续造成伤害<br>3. 松开停止伤害 |
| **预期结果** | 按住时持续伤害，每秒伤害 = damage |
| **测试数据** | damage: 10/s |

#### WPN-TYP-ML-002: 持续能量消耗
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 装备采矿激光 |
| **测试步骤** | 1. 按住射击<br>2. 验证持续消耗能量<br>3. 能量耗尽后停止 |
| **预期结果** | 持续消耗能量，耗尽后无法继续 |
| **测试数据** | energyCost: 5/s |

#### WPN-TYP-ML-003: 激光视觉效果
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 激光有视觉效果 |
| **测试步骤** | 1. 射击<br>2. 验证激光束显示<br>3. 验证激光长度随距离变化 |
| **预期结果** | 激光束正确显示，命中时缩短 |
| **测试数据** | laserBeamPrefab |

#### WPN-TYP-ML-004: 采矿效率
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 对准矿物资源 |
| **测试步骤** | 1. 用激光照射矿物<br>2. 验证采矿进度<br>3. 验证获得资源 |
| **预期结果** | 激光对矿物有额外效率 |
| **测试数据** | miningPower: 2.0 |

---

### Harpoon (鱼叉)

#### WPN-TYP-HP-001: 单体高伤害
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 装备鱼叉 |
| **测试步骤** | 1. 射击敌人<br>2. 验证高伤害值 |
| **预期结果** | 鱼叉造成高单发伤害 |
| **测试数据** | damage: 50 |

#### WPN-TYP-HP-002: 拖拽效果
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 鱼叉命中可拖拽目标 |
| **测试步骤** | 1. 射击小型敌人<br>2. 验证拖拽效果<br>3. 验证敌人被拉近 |
| **预期结果** | 命中后拖拽目标向玩家移动 |
| **测试数据** | pullForce: 10, maxPullMass: 50 |

#### WPN-TYP-HP-003: 低射速
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 装备鱼叉 |
| **测试步骤** | 1. 射击<br>2. 验证长冷却时间 |
| **预期结果** | 鱼叉射速慢，伤害高 |
| **测试数据** | fireRate: 0.5/s |

#### WPN-TYP-HP-004: 绳索视觉效果
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 鱼叉有绳索效果 |
| **测试步骤** | 1. 射击<br>2. 验证绳索连接<br>3. 拖拽时验证绳索拉伸 |
| **预期结果** | 绳索正确连接玩家和目标 |
| **测试数据** | ropePrefab |

---

### Torpedo (鱼雷)

#### WPN-TYP-TP-001: 范围伤害
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 装备鱼雷 |
| **测试步骤** | 1. 射击到敌人群<br>2. 验证爆炸范围<br>3. 验证范围内所有敌人受伤 |
| **预期结果** | 爆炸对范围内所有目标造成伤害 |
| **测试数据** | explosionRadius: 5, damage: 80 |

#### WPN-TYP-TP-002: 慢速飞行
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 装备鱼雷 |
| **测试步骤** | 1. 射击<br>2. 验证飞行速度慢 |
| **预期结果** | 鱼雷飞行速度明显慢于其他武器 |
| **测试数据** | projectileSpeed: 3 |

#### WPN-TYP-TP-003: 爆炸特效
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 鱼雷有爆炸特效 |
| **测试步骤** | 1. 射击<br>2. 命中后验证爆炸特效 |
| **预期结果** | 爆炸时播放大型特效 |
| **测试数据** | explosionEffectPrefab |

#### WPN-TYP-TP-004: 友军伤害
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 场景中有友军 |
| **测试步骤** | 1. 在友军附近引爆鱼雷<br>2. 验证友军是否受伤 |
| **预期结果** | 根据 friendlyFire 设置决定是否伤害友军 |
| **测试数据** | friendlyFire: true/false |

---

### SonicPulse (声波脉冲)

#### WPN-TYP-SP-001: 击退效果
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 装备声波脉冲 |
| **测试步骤** | 1. 射击近距离敌人<br>2. 验证敌人被击退<br>3. 验证击退距离 |
| **预期结果** | 敌人被击退指定距离 |
| **测试数据** | knockbackForce: 15 |

#### WPN-TYP-SP-002: 扇形范围
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 装备声波脉冲 |
| **测试步骤** | 1. 射击<br>2. 验证扇形范围内敌人受影响 |
| **预期结果** | 扇形范围内所有敌人被击退 |
| **测试数据** | coneAngle: 60, range: 8 |

#### WPN-TYP-SP-003: 低伤害
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 装备声波脉冲 |
| **测试步骤** | 1. 射击<br>2. 验证伤害值 |
| **预期结果** | 伤害较低，主要效果是击退 |
| **测试数据** | damage: 20 |

#### WPN-TYP-SP-004: 声波视觉效果
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 声波有视觉效果 |
| **测试步骤** | 1. 射击<br>2. 验证声波扩散效果 |
| **预期结果** | 显示声波扩散动画 |
| **测试数据** | sonicWavePrefab |

---

### PlasmaCutter (等离子切割器)

#### WPN-TYP-PC-001: 近战高伤害
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 装备等离子切割器 |
| **测试步骤** | 1. 接近敌人<br>2. 射击<br>3. 验证高伤害 |
| **预期结果** | 近战范围内造成高伤害 |
| **测试数据** | damage: 100, range: 3 |

#### WPN-TYP-PC-002: 极短射程
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 装备等离子切割器 |
| **测试步骤** | 1. 远距离射击<br>2. 验证无效果<br>3. 近距离射击<br>4. 验证有效 |
| **预期结果** | 射程极短，必须贴近使用 |
| **测试数据** | range: 3 |

#### WPN-TYP-PC-003: 切割视觉效果
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 切割器有视觉效果 |
| **测试步骤** | 1. 射击<br>2. 验证切割光束 |
| **预期结果** | 显示等离子切割光束 |
| **测试数据** | plasmaBeamPrefab |

#### WPN-TYP-PC-004: 高能量消耗
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 装备等离子切割器 |
| **测试步骤** | 1. 射击<br>2. 验证高能量消耗 |
| **预期结果** | 每次射击消耗大量能量 |
| **测试数据** | energyCost: 50 |

---

## 四、能量管理测试 (WPN-ENG)

### WPN-ENG-001: 能量消耗计算
**优先级:** P0 | **类型:** 单元测试

| 项目 | 内容 |
|------|------|
| **前置条件** | WeaponSystem 已初始化 |
| **测试步骤** | 1. 获取武器能量消耗<br>2. 验证计算正确 |
| **预期结果** | 能量消耗值正确 |
| **测试数据** | baseCost: 10 |

### WPN-ENG-002: 能量不足阻止射击
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 玩家能量低于武器消耗 |
| **测试步骤** | 1. 尝试射击<br>2. 验证无法射击<br>3. 验证提示 |
| **预期结果** | 能量不足时无法射击，有反馈 |
| **测试数据** | energy: 5, cost: 10 |

### WPN-ENG-003: 能量恢复
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 玩家能量不满 |
| **测试步骤** | 1. 消耗能量<br>2. 等待<br>3. 验证能量恢复 |
| **预期结果** | 能量按恢复速率自动恢复 |
| **测试数据** | regenRate: 10/s |

### WPN-ENG-004: 能量上限
**优先级:** P0 | **类型:** 单元测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 玩家能量接近满值 |
| **测试步骤** | 1. 等待能量恢复<br>2. 验证不超过上限 |
| **预期结果** | 能量上限为 maxEnergy |
| **测试数据** | maxEnergy: 100 |

### WPN-ENG-005: 能量UI更新
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | HUD 已配置 |
| **测试步骤** | 1. 射击消耗能量<br>2. 验证能量条减少<br>3. 恢复时验证增加 |
| **预期结果** | 能量条实时反映能量变化 |
| **测试数据** | energyBar |

### WPN-ENG-006: 低能量警告
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 能量警告系统已配置 |
| **测试步骤** | 1. 消耗能量到低阈值<br>2. 验证警告提示<br>3. 验证UI变化 |
| **预期结果** | 低能量时有视觉/音效警告 |
| **测试数据** | lowEnergyThreshold: 20 |

### WPN-ENG-007: 能量模块升级
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 有能量升级模块 |
| **测试步骤** | 1. 安装能量升级<br>2. 验证最大能量增加<br>3. 验证恢复速率增加 |
| **预期结果** | 升级正确提升能量属性 |
| **测试数据** | upgrade: EnergyCoreV2 (+50 max) |

---

## 五、瞄准系统测试 (WPN-AIM)

### WPN-AIM-001: 鼠标瞄准
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 使用键鼠输入 |
| **测试步骤** | 1. 移动鼠标<br>2. 验证武器朝向鼠标位置 |
| **预期结果** | 武器平滑转向鼠标方向 |
| **测试数据** | aimSmoothness: 10 |

### WPN-AIM-002: 手柄摇杆瞄准
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 使用手柄输入 |
| **测试步骤** | 1. 推动右摇杆<br>2. 验证武器朝向摇杆方向 |
| **预期结果** | 武器根据右摇杆方向瞄准 |
| **测试数据** | rightStickInput: (x, y) |

### WPN-AIM-003: 瞄准平滑度
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 配置瞄准平滑参数 |
| **测试步骤** | 1. 快速移动瞄准<br>2. 验证平滑过渡 |
| **预期结果** | 瞄准有平滑过渡，不突兀 |
| **测试数据** | aimSmoothness: 15 |

### WPN-AIM-004: 瞄准角度限制
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 武器有瞄准角度限制 |
| **测试步骤** | 1. 尝试瞄准超出角度范围<br>2. 验证被限制在范围内 |
| **预期结果** | 瞄准角度受限制 |
| **测试数据** | minAngle: -90, maxAngle: 90 |

### WPN-AIM-005: 自动瞄准辅助
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 开启瞄准辅助 |
| **测试步骤** | 1. 接近敌人<br>2. 轻微偏离瞄准<br>3. 验证自动修正 |
| **预期结果** | 接近敌人时轻微吸附 |
| **测试数据** | aimAssistStrength: 0.3 |

### WPN-AIM-006: 瞄准线显示
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 瞄准线已配置 |
| **测试步骤** | 1. 瞄准<br>2. 验证瞄准线显示<br>3. 验证长度变化 |
| **预期结果** | 显示瞄准线，长度随射程变化 |
| **测试数据** | aimLinePrefab |

### WPN-AIM-007: 瞄准敌人高亮
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 高亮系统已配置 |
| **测试步骤** | 1. 瞄准敌人<br>2. 验证敌人高亮 |
| **预期结果** | 瞄准的敌人有高亮效果 |
| **测试数据** | highlightColor: red |

### WPN-AIM-008: 瞄准方向与移动方向分离
**优先级:** P0 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 双摇杆控制 |
| **测试步骤** | 1. 向一个方向移动<br>2. 向另一个方向瞄准<br>3. 验证独立控制 |
| **预期结果** | 移动和瞄准方向独立 |
| **测试数据** | moveDir: up, aimDir: right |

### WPN-AIM-009: 瞄准抖动
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 配置瞄准抖动 |
| **测试步骤** | 1. 持续瞄准<br>2. 验证轻微抖动 |
| **预期结果** | 长时间瞄准有轻微抖动 |
| **测试数据** | aimSway: 0.5 |

### WPN-AIM-010: 瞄准UI反馈
**优先级:** P1 | **类型:** 功能测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 瞄准UI已配置 |
| **测试步骤** | 1. 瞄准不同目标<br>2. 验证UI变化 |
| **预期结果** | 准星随目标类型变化 |
| **测试数据** | crosshairTypes: [default, enemy, resource] |

---

## 六、武器平衡测试 (WPN-BAL)

### WPN-BAL-001: DPS 平衡验证
**优先级:** P0 | **类型:** 平衡测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 所有武器配置完成 |
| **测试步骤** | 1. 计算各武器 DPS<br>2. 验证在合理范围内 |
| **预期结果** | 各武器 DPS 相对平衡 |
| **测试数据** | targetDPS: [50-150] |

### WPN-BAL-002: 能量效率平衡
**优先级:** P0 | **类型:** 平衡测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 所有武器配置完成 |
| **测试步骤** | 1. 计算伤害/能量比<br>2. 验证各武器效率 |
| **预期结果** | 高伤害武器能量效率略低 |
| **测试数据** | efficiency = damage / energyCost |

### WPN-BAL-003: 射程平衡
**优先级:** P1 | **类型:** 平衡测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 所有武器配置完成 |
| **测试步骤** | 1. 对比各武器射程<br>2. 验证射程与伤害关系 |
| **预期结果** | 长射程武器伤害略低 |
| **测试数据** | rangeVsDamageRatio |

### WPN-BAL-004: 射速平衡
**优先级:** P1 | **类型:** 平衡测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 所有武器配置完成 |
| **测试步骤** | 1. 对比各武器射速<br>2. 验证射速与伤害关系 |
| **预期结果** | 高射速武器单发伤害低 |
| **测试数据** | fireRateVsDamage |

### WPN-BAL-005: 武器使用场景
**优先级:** P1 | **类型:** 平衡测试

| 项目 | 内容 |
|------|------|
| **前置条件** | 各武器有设计用途 |
| **测试步骤** | 1. 测试各武器在对应场景<br>2. 验证设计意图实现 |
| **预期结果** | 各武器在对应场景有效 |
| **测试数据** | scenarios: [mining, crowd, single, defense] |

---

## 武器数值平衡表

| 武器 | 伤害 | 射速 | DPS | 射程 | 能量消耗 | 能量效率 | 用途 |
|------|------|------|-----|------|----------|----------|------|
| 采矿激光 | 10/s | 持续 | 10 | 15 | 5/s | 2.0 | 采矿/持续 |
| 鱼叉 | 50 | 0.5/s | 25 | 20 | 20 | 2.5 | 单体/控制 |
| 鱼雷 | 80 | 0.3/s | 24 | 30 | 40 | 2.0 | 范围/AOE |
| 声波脉冲 | 20 | 1/s | 20 | 8 | 15 | 1.33 | 击退/防御 |
| 等离子切割 | 100 | 0.2/s | 20 | 3 | 50 | 2.0 | 近战/爆发 |

---

## 测试数据需求

### 武器配置数据
```json
{
  "weapons": [
    {
      "name": "MiningLaser",
      "type": "MiningLaser",
      "damage": 10,
      "fireRate": 10,
      "range": 15,
      "energyCost": 5,
      "damageType": "Energy",
      "isContinuous": true,
      "miningPower": 2.0
    },
    {
      "name": "Harpoon",
      "type": "Harpoon",
      "damage": 50,
      "fireRate": 0.5,
      "range": 20,
      "energyCost": 20,
      "damageType": "Physical",
      "hasPullEffect": true,
      "pullForce": 10
    },
    {
      "name": "Torpedo",
      "type": "Torpedo",
      "damage": 80,
      "fireRate": 0.3,
      "range": 30,
      "energyCost": 40,
      "damageType": "Explosive",
      "explosionRadius": 5,
      "projectileSpeed": 3
    },
    {
      "name": "SonicPulse",
      "type": "SonicPulse",
      "damage": 20,
      "fireRate": 1,
      "range": 8,
      "energyCost": 15,
      "damageType": "Physical",
      "knockbackForce": 15,
      "coneAngle": 60
    },
    {
      "name": "PlasmaCutter",
      "type": "PlasmaCutter",
      "damage": 100,
      "fireRate": 0.2,
      "range": 3,
      "energyCost": 50,
      "damageType": "Energy"
    }
  ]
}
```

---

## 自动化测试覆盖

| 测试用例ID | 自动化状态 | 测试文件 |
|------------|------------|----------|
| WPN-BAS-001 ~ 015 | ✅ 已覆盖 | WeaponSystemTests.cs |
| WPN-SWT-001 ~ 010 | ✅ 已覆盖 | WeaponSwitchTests.cs |
| WPN-TYP-ML-001 ~ 004 | ⚠️ 部分覆盖 | WeaponTypeTests.cs |
| WPN-TYP-HP-001 ~ 004 | ⚠️ 部分覆盖 | WeaponTypeTests.cs |
| WPN-TYP-TP-001 ~ 004 | ⚠️ 部分覆盖 | WeaponTypeTests.cs |
| WPN-TYP-SP-001 ~ 004 | ⚠️ 部分覆盖 | WeaponTypeTests.cs |
| WPN-TYP-PC-001 ~ 004 | ⚠️ 部分覆盖 | WeaponTypeTests.cs |
| WPN-ENG-001 ~ 007 | ✅ 已覆盖 | EnergySystemTests.cs |
| WPN-AIM-001 ~ 010 | ⚠️ 部分覆盖 | AimSystemTests.cs |
| WPN-BAL-001 ~ 005 | ⚠️ 手动测试 | BalanceTests.md |

---

**文档版本:** 1.0  
**创建日期:** 2026-02-26  
**作者:** 测试工程师 Agent  
**审核状态:** 待审核
